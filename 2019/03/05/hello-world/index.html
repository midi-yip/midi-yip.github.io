<!DOCTYPE html>
<html>
	<head><meta name="generator" content="Hexo 3.8.0">
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	<title>54屋</title>
	<link rel="shortcut icon" href="/images/favicon.ico"> <link rel="stylesheet" href="/css/style.css"> <script src="/js/jquery.js"></script> <script src="/js/search.js"></script>
</head>


	<body>
		<header class="header">
	<div class="title">
		<a href="/" class="logo">
			54屋
		</a>
		<span>by 米弟</span>
	</div>
	<nav class="navbar">
		<ul class="menu">
			
				<li class="menu-item">
					<a href="/" class="menu-item-link">
						主页
					</a>
				</li>
				
				<li class="menu-item">
					<a href="/about" class="menu-item-link">
						关于我
					</a>
				</li>
				
					
		</ul>
	</nav>
</header> <article class="article-container">
	<div class="post-toc">
		<h3>本文目录</h3>
		<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#菜鸟的记录"><span class="toc-text">菜鸟的记录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注意层跟空格"><span class="toc-text">注意层跟空格</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#本地与远程关联"><span class="toc-text">本地与远程关联</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#域名绑定"><span class="toc-text">域名绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#推送"><span class="toc-text">推送</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#上传文件到分支问题"><span class="toc-text">上传文件到分支问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#提交到分支"><span class="toc-text">提交到分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在其它电脑更新博客"><span class="toc-text">在其它电脑更新博客</span></a></li></ol>
	</div>
	<div class="post-container">
		<div class="post-title">
			<h2 class="title">
				世界，你好！
			</h2>
		</div>
		<div class="post-meta">
			<span class="post-time">
				2019-03-05
			</span>
		</div>
		<div class="post-content">
			<h2 id="菜鸟的记录"><a href="#菜鸟的记录" class="headerlink" title="菜鸟的记录"></a>菜鸟的记录</h2><h2 id="注意层跟空格"><a href="#注意层跟空格" class="headerlink" title="注意层跟空格"></a>注意层跟空格</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">因为一个层结构导致一直</span><br><span class="line">You should configure deployment settings <span class="keyword">in</span> _config.yml first!</span><br><span class="line">无语无语！！</span><br></pre></td></tr></table></figure>
<p>1.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">如果系统中有一些配置文件在服务器上做了配置修改,然后后续开发又新添加一些配置项的时候,</span><br><span class="line">在发布这个配置文件的时候,会发生代码冲突:</span><br><span class="line"></span><br><span class="line">error: Your <span class="built_in">local</span> changes to the following files would be overwritten by merge:</span><br><span class="line">        protected/config/main.php</span><br><span class="line">Please, commit your changes or stash them before you can merge.</span><br><span class="line">如果希望保留生产服务器上所做的改动,仅仅并入新配置项, 处理方法如下:</span><br><span class="line">git stash 会把所有未提交的修改（包括暂存的和非暂存的）都保存起来，</span><br><span class="line">用于后续恢复当前工作目录。</span><br><span class="line">https://www.cnblogs.com/tocy/p/git-stash-reference.html</span><br><span class="line">比如下面的中间状态，通过git stash命令推送一个新的储藏，当前的工作目录就干净了。</span><br><span class="line">需要说明一点，stash是本地的，不会通过git push命令上传到git server上。</span><br><span class="line">实际应用中推荐给每个stash加一个message，用于记录版本，使用git stash save取代git stash命令。</span><br><span class="line">git pull 命令的作用是：取回远程主机某个分支的更新，再与本地的指定分支合并</span><br><span class="line">git stash pop 可以通过git stash pop命令恢复之前缓存的工作目录，这个指令将缓存堆栈中的第一个stash删除，</span><br><span class="line">并将对应修改应用到当前的工作目录下。</span><br></pre></td></tr></table></figure></p>
<p>2.放弃本地修改,直接覆盖之<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure></p>
<h2 id="本地与远程关联"><a href="#本地与远程关联" class="headerlink" title="本地与远程关联"></a>本地与远程关联</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">最近使用git pull的时候多次碰见下面的情况：</span><br><span class="line"></span><br><span class="line">There is no tracking information <span class="keyword">for</span> the current branch.</span><br><span class="line">Please specify <span class="built_in">which</span> branch you want to merge with.</span><br><span class="line">See git-pull(1) <span class="keyword">for</span> details.</span><br><span class="line"></span><br><span class="line">git pull &lt;remote&gt; &lt;branch&gt;</span><br><span class="line"></span><br><span class="line">If you wish to <span class="built_in">set</span> tracking information <span class="keyword">for</span> this branch you can <span class="keyword">do</span> so with:</span><br><span class="line"></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/&lt;branch&gt; release</span><br><span class="line"></span><br><span class="line">其实，输出的提示信息说的还是比较明白的。</span><br><span class="line"></span><br><span class="line">使用git在本地新建一个分支后，需要做远程分支关联。如果没有关联，git会在下面的操作中提示你显示的添加关联。</span><br><span class="line"></span><br><span class="line">关联目的是在执行git pull, git push操作时就不需要指定对应的远程分支，你只要没有显示指定，git pull的时候，就会提示你。</span><br><span class="line"></span><br><span class="line">解决方法就是按照提示添加一下呗：</span><br><span class="line"></span><br><span class="line">git branch --<span class="built_in">set</span>-upstream-to=origin/remote_branch  your_branch</span><br><span class="line"></span><br><span class="line">其中，origin/remote_branch是你本地分支对应的远程分支；your_branch是你当前的本地分支。</span><br></pre></td></tr></table></figure>
<h2 id="域名绑定"><a href="#域名绑定" class="headerlink" title="域名绑定"></a>域名绑定</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ 后台绑定域名后每次hexo d 都会解绑域名，直接在<span class="built_in">source</span>文件里面添加CNAME文件后生成上传。</span><br></pre></td></tr></table></figure>
<h2 id="推送"><a href="#推送" class="headerlink" title="推送"></a>推送</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">推送代码分支时出现：fatal: <span class="string">'origin'</span> does not appear to be a git repository</span><br><span class="line">  输入$ git remote add origin git@github.com:djqiang（github帐号名）/gitdemo（项目名）.git </span><br><span class="line"></span><br><span class="line">如果输入$ git remote add origin git@github.com:djqiang（github帐号名）/gitdemo（项目名）.git </span><br><span class="line"></span><br><span class="line">    提示出错信息：fatal: remote origin already exists.</span><br><span class="line">    解决办法如下：</span><br><span class="line">    输入$ git remote rm origin 再执行</span><br></pre></td></tr></table></figure>
<h3 id="上传文件到分支问题"><a href="#上传文件到分支问题" class="headerlink" title="上传文件到分支问题"></a>上传文件到分支问题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在用主题是不是传不上到分支呢？</span><br><span class="line">执行 git add .      与   git  commit -m <span class="string">" "</span></span><br><span class="line">再执行 git push origin dev（分支）</span><br><span class="line">还是上不去。</span><br><span class="line">网上搜索在另一个博客上看到的方法：</span><br><span class="line">将themes目录以内中的主题的.git目录删除（如果有），因为一个git仓库中不能包含另一个git仓库，提交主题文件夹会失败。</span><br><span class="line">可能有人会问，删除了themes目录中的.git不就不能git pull更新主题了吗？</span><br><span class="line">很简单，需要更新主题时在另一个地方git <span class="built_in">clone</span>下来该主题的最新版本，然后将内容拷到当前主题目录即可</span><br></pre></td></tr></table></figure>
<h3 id="提交到分支"><a href="#提交到分支" class="headerlink" title="提交到分支"></a>提交到分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">后执行git add .、git commit -m <span class="string">'back up hexo files'</span>（引号内容可改）、git push</span><br><span class="line"></span><br><span class="line">其中遇到的说是分库过多！</span><br><span class="line"></span><br><span class="line">fatal: The current branch dev has no upstream branch.</span><br><span class="line">To push the current branch and <span class="built_in">set</span> the remote as upstream, use</span><br><span class="line"></span><br><span class="line">    git push --<span class="built_in">set</span>-upstream origin dev</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">***移走了themes中的.git，但还是上传不上去，源码中的修改的*MD文件倒是更新了。***</span><br></pre></td></tr></table></figure>
<h2 id="在其它电脑更新博客"><a href="#在其它电脑更新博客" class="headerlink" title="在其它电脑更新博客"></a>在其它电脑更新博客</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">将新电脑的生成的ssh key添加到GitHub账户上</span><br><span class="line">在新电脑上克隆username.github.io仓库的xxx分支到本地，此时本地git仓库处于xxx分支</span><br><span class="line">切换到username.github.io目录，执行npm install(由于仓库有一个.gitignore文件，里面默认是忽略掉  node_modules文件夹的，</span><br><span class="line">也就是说仓库的hexo分支并没有存储该目录[也不需要]，所以需要install下)</span><br><span class="line"></span><br><span class="line">编辑、撰写文章或其他博客更新改动</span><br><span class="line">依次执行git add .、git commit -m <span class="string">'back up hexo files'</span>（引号内容可改）、git push指令，保证xxx分支版本最新</span><br><span class="line">执行hexo d -g指令（在此之前，有时可能需要执行hexo clean），完成后就会发现，最新改动已经更新到master分支了，两个分支互不干扰！</span><br><span class="line">** 注意： 每次换电脑进行博客更新时，不管上次在其他电脑有没有更新，最好先git pull**</span><br></pre></td></tr></table></figure>

		</div>
	</div>
</article>
<!-- top -->
<a id="goTop" class="go-top" type="button">^</a>
<script>
	goTop.addEventListener('click', function (e) {
		document.querySelector('.post-container').scrollTo(0, 0);
	});
</script> <footer>
	
	<p><a href="http://beian.miit.gov.cn/"></a></p>
	
</footer>

	</body>
</html>
